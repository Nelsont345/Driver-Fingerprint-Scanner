\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{graphicx}
\usepackage[margin=0.9in]{geometry}
\usepackage{amsfonts, amsmath, amsthm, amssymb}
\usepackage{siunitx}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{multicol}
\usepackage[toc,page]{appendix}
%\usepackage{biblatex}
%\addbibresource{references.bib}
\newenvironment{Figure}
  {\par\medskip\noindent\minipage{\linewidth}}
  {\endminipage\par\medskip}
  
\usepackage{listings}
 \usepackage{color}
 \definecolor{codegreen}{rgb}{0,0.6,0}  

 
\lstdefinestyle{mystyle}{
    commentstyle=\color{codegreen},
    basicstyle=\footnotesize,
    breakatwhitespace=true,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=False,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
 
\lstset{style=mystyle}
\begin{document}
\begin{appendices}


\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{graphicx}
\usepackage[margin=0.9in]{geometry}
\usepackage{amsfonts, amsmath, amsthm, amssymb}
\usepackage{siunitx}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{multicol}
\usepackage[toc,page]{appendix}
%\usepackage{biblatex}
%\addbibresource{references.bib}
\newenvironment{Figure}
  {\par\medskip\noindent\minipage{\linewidth}}
  {\endminipage\par\medskip}
  
\usepackage{listings}
 \usepackage{color}
 \definecolor{codegreen}{rgb}{0,0.6,0}  

 
\lstdefinestyle{mystyle}{
    commentstyle=\color{codegreen},
    basicstyle=\footnotesize,
    breakatwhitespace=true,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=False,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
 
\lstset{style=mystyle}
\begin{document}
\begin{appendices}





\begin{figure}[h!]
\section{Actions code, Comments formatted in C as Assembler not recognised by LaTeX}

\end{figure}

\lstinputlisting[language=C]{ActionsC.c}

\begin{figure}[h!]
\section{Main code, Comments formatted in C as Assembler not recognised by LaTeX}

\end{figure}
\lstinputlisting[language=C]{MainC.c}
\end{appendices}

\end{document}


